{"remainingRequest":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vue8天/mall/supermall/src/utils/request.js","dependencies":[{"path":"/Users/apple/Desktop/vue8天/mall/supermall/src/utils/request.js","mtime":1648173842438},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/babel.config.js","mtime":1647847872553},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9hcGkuY2F0LXNob3AucGVua3VvZXIuY29tJywKICB0aW1lb3V0OiA1MDAwCn0pOyAvLyAy44CBVE9ETzogYXhpb3Mg6K+35rGC5oum5oiqCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGNvbmZpZyA9PiB7CiAgLy8gY29uZmlnLmRhdGEgPSBKU09OLnN0cmluZ2lmeShjb25maWcuZGF0YSk7CiAgLy8gY29uZmlnLmhlYWRlcnMgPSB7CiAgLy8gICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgLy8gfQogIC8vIHJldHVybiBjb25maWc7CiAgLy8gfQogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7IC8vIFRPRE86IGF4aW9zIOWTjeW6lOaLpuaIqgoKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgdmFyIGNvZGUgPSByZXMuY29kZSwKICAgICAgZGF0YSA9IHJlcy5kYXRhLAogICAgICBtc2cgPSByZXMubXNnOwoKICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfSBlbHNlIGlmIChjb2RlID09PSA0MDQpIHsKICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgi5aSx6LSl5L+h5oGvMSIpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIuWksei0peS/oeaBrzIiKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CmV4cG9ydCBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBpbnN0YW5jZS5nZXQodXJsLCB7CiAgICAgIHBhcmFtczogcGFyYW1zCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsgLy8gcmVzb2x2ZShyZXMpCiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIHJlamVjdChlcnIpCiAgICB9KTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHsKICByZXR1cm4gaW5zdGFuY2UucG9zdCh1cmwsIHsKICAgIGRhdGE6IGRhdGEKICB9KTsKfQ=="},{"version":3,"sources":["/Users/apple/Desktop/vue8天/mall/supermall/src/utils/request.js"],"names":["axios","instance","create","baseURL","timeout","interceptors","request","use","config","err","Promise","reject","response","res","code","data","msg","status","router","push","get","url","params","resolve","then","console","log","catch","post"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,kCADiB;AAE1BC,EAAAA,OAAO,EAAE;AAFiB,CAAb,CAAjB,C,CAKA;;AACAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAAC,MAAM,EAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAOA,MAAP;AACH,CATD,EASG,UAAAC,GAAG,EAAI;AACN,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAXD,E,CAaA;;AACAR,QAAQ,CAACI,YAAT,CAAsBO,QAAtB,CAA+BL,GAA/B,CAAmC,UAAAM,GAAG,EAAI;AACtC,MAAQC,IAAR,GAA4BD,GAA5B,CAAQC,IAAR;AAAA,MAAcC,IAAd,GAA4BF,GAA5B,CAAcE,IAAd;AAAA,MAAoBC,GAApB,GAA4BH,GAA5B,CAAoBG,GAApB;;AACA,MAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACpB,WAAOJ,GAAG,CAACE,IAAX;AACH,GAFD,MAEO,IAAID,IAAI,KAAK,GAAb,EAAkB;AACrBI,IAAAA,MAAM,CAACC,IAAP,CAAY,QAAZ;AACA,WAAOT,OAAO,CAACC,MAAR,CAAe,OAAf,CAAP;AACH,GAHM,MAGA;AACH,WAAOD,OAAO,CAACC,MAAR,CAAe,OAAf,CAAP;AACH;AACJ,CAVD,EAUG,UAAAF,GAAG,EAAI;AACN,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAZD;AAeA,OAAO,SAASW,GAAT,CAAaC,GAAb,EAAkBC,MAAlB,EAA0B;AAC7B,SAAOZ,OAAO,CAAC,UAACa,OAAD,EAAUZ,MAAV,EAAqB;AAChCV,IAAAA,QAAQ,CAACmB,GAAT,CAAaC,GAAb,EAAkB;AACVC,MAAAA,MAAM,EAANA;AADU,KAAlB,EAGKE,IAHL,CAGU,UAAAX,GAAG,EAAI;AACTY,MAAAA,OAAO,CAACC,GAAR,CAAYb,GAAZ,EADS,CAET;AACH,KANL,EAMOc,KANP,CAMa,UAAAlB,GAAG,EAAI;AACZgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,GAAZ,EADY,CAEZ;AACH,KATL;AAUH,GAXa,CAAd;AAYH;AAED,OAAO,SAASmB,IAAT,CAAcP,GAAd,EAAmBN,IAAnB,EAAyB;AAC5B,SAAOd,QAAQ,CAAC2B,IAAT,CAAcP,GAAd,EAAmB;AACtBN,IAAAA,IAAI,EAAJA;AADsB,GAAnB,CAAP;AAGH","sourcesContent":["import axios from 'axios';\nconst instance = axios.create({\n    baseURL: 'http://api.cat-shop.penkuoer.com',\n    timeout: 5000\n})\n\n// 2、TODO: axios 请求拦截\ninstance.interceptors.request.use(config => {\n    // config => {\n    // config.data = JSON.stringify(config.data);\n    // config.headers = {\n    //     'Content-Type': 'application/json',\n    // }\n    // return config;\n    // }\n    return config;\n}, err => {\n    return Promise.reject(err);\n})\n\n// TODO: axios 响应拦截\ninstance.interceptors.response.use(res => {\n    const { code, data, msg } = res;\n    if (res.status === 200) {\n        return res.data;\n    } else if (code === 404) {\n        router.push('/login');\n        return Promise.reject(\"失败信息1\");\n    } else {\n        return Promise.reject(\"失败信息2\");\n    }\n}, err => {\n    return Promise.reject(err);\n})\n\n\nexport function get(url, params) {\n    return Promise((resolve, reject) => {\n        instance.get(url, {\n                params\n            })\n            .then(res => {\n                console.log(res);\n                // resolve(res)\n            }).catch(err => {\n                console.log(err);\n                // reject(err)\n            })\n    })\n}\n\nexport function post(url, data) {\n    return instance.post(url, {\n        data\n    })\n}"]}]}