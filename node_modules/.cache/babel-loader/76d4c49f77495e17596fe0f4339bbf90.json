{"remainingRequest":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vue8天/mall/supermall/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/vue8天/mall/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vue8天/mall/supermall/src/views/Home/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vue8天/mall/supermall/src/views/Home/home.vue","mtime":1648198945599},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/babel.config.js","mtime":1647847872553},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBUT0RPOiDlpLTpg6ggbmF2YmVyCmltcG9ydCBOYXZCZXIgZnJvbSAiY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhci52dWUiOyAvLyBUT0RPOiDpppbpobXkuoznuqflr7zoiKoKCmltcG9ydCBUYWJDb250cm9sIGZyb20gImNvbXBvbmVudHMvY29udGVudC90YWJDb250cm9sLnZ1ZSI7IC8vIFRPRE86IOmmlumhteWVhuWTgeWIl+ihqAoKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvZ29vZHNMaXN0LnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7IC8vIGltcG9ydCB7IGdldCB9IGZyb20gIi4uLy4uL3V0aWxzL3JlcXVlc3QuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICLpppbpobUiLAogICAgICBiYW5uZXI6IFtdLAogICAgICByZWNvbW1lbmQ6IFtdLAogICAgICBwb3B1bGFyV2VlazogW10sCiAgICAgIHRpdGxlczogWyLmtYHooYwiLCAi5paw5qy+IiwgIueyvumAiSJdLAogICAgICBnb29kczogewogICAgICAgIHBvcDogewogICAgICAgICAgcGFnZTogMCwKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfQogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICBjb2xvdXI6IFsiI2Y0NDMzNiIsICIjZTkxZTYzIiwgIiM5YzI3YjAiLCAiIzY3M2FiNyIsICIjM2Y1MWI1IiwgIiMyMTk2ZjMiLCAiIzAwOTY4OCJdLAogICAgICBpdGVtQ29sb3VyOiAiIgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE5hdkJlcjogTmF2QmVyLAogICAgVGFiQ29udHJvbDogVGFiQ29udHJvbCwKICAgIEdvb2RzTGlzdDogR29vZHNMaXN0CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBUT0RPOiDlrZDnu4Tku7bkvKDpgJLov4fmnaXnmoTmlbDmja4KICAgIHN3aXRjaFR5cGU6IGZ1bmN0aW9uIHN3aXRjaFR5cGUodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICB9LAogICAgLy8g6L2u5pKt5Zu+5a+55bqU55qE6aKc6Imy5YC8CiAgICBnZXRJbmRleDogZnVuY3Rpb24gZ2V0SW5kZXgoaW5kZXgpIHsKICAgICAgdGhpcy5pdGVtQ29sb3VyID0gdGhpcy5jb2xvdXJbaW5kZXhdOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpbmRleCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9MaXZlIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgYmFubmVySW5kZXg6IGluZGV4CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBUT0RPOiDmnKzlkajmtYHooYwKICAgIGdldEhvbWVHb29kczogZnVuY3Rpb24gZ2V0SG9tZUdvb2RzKHR5cGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYWdlID0gdGhpcy5nb29kc1t0eXBlXS5wYWdlICsgMTsKICAgICAgdGhpcy4kY29tbW9uR2V0KCIvYXBpL3YxL3Byb2R1Y3RzIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGVyOiAiMTAiLAogICAgICAgICAgcGFnZTogcGFnZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucG9wdWxhcldlZWsgPSByZXMucHJvZHVjdHMuc2xpY2UoMCwgNCk7CgogICAgICAgIF90aGlzLnBvcHVsYXJXZWVrLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgICAgYS50ZXh0ID0gIuWmluWtveazleW4iCI7CiAgICAgICAgfSk7IC8vIFRPRE86IOmHkeWImuWMugoKCiAgICAgICAgX3RoaXMucmVjb21tZW5kID0gcmVzLnByb2R1Y3RzLnNsaWNlKDAsIDQpOwoKICAgICAgICBfdGhpcy5yZWNvbW1lbmQubWFwKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICBhLnRleHQgPSAi56ym5paH5rOV5biIIjsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIFRPRE86IOS4i+mdouWIl+ihqAogICAgZ2VNaWxsdEhvbWVHb29kczogZnVuY3Rpb24gZ2VNaWxsdEhvbWVHb29kcyh0eXBlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhZ2UgPSB0aGlzLmdvb2RzWyJwb3AiXS5wYWdlICsgMTsKICAgICAgdGhpcy4kY29tbW9uR2V0KCIvYXBpL3YxL3Byb2R1Y3RzIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgIHBlcjogMAogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczoge30KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGFyciA9IFtdOwoKICAgICAgICBpZiAocmVzLnByb2R1Y3RzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGFyciA9IHJlcy5wcm9kdWN0czsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXJyLnB1c2gocmVzLnByb2R1Y3RzKTsKICAgICAgICB9IC8vIFRPRE86IOWQkeaVsOe7hOi/veWKoCDmlbDmja7lubblkIjlubYKCgogICAgICAgIF90aGlzMi5nb29kc1sicG9wIl0ubGlzdCA9ICh0eXBlID8gW10gOiBfdGhpczIuZ29vZHNbInBvcCJdLmxpc3QpLmNvbmNhdChhcnIpOwoKICAgICAgICBpZiAoX3RoaXMyLmdvb2RzLnBvcC5saXN0Lmxlbmd0aCA8IDEwKSB7CiAgICAgICAgICBfdGhpczIuZmluaXNoZWQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuZmluaXNoZWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBUT0RPOiDnmbvlvZXmjqXlj6MKICAgIGdldEhvbWVMb2dpbjogZnVuY3Rpb24gZ2V0SG9tZUxvZ2luKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbW1vblBvc3QoIi9hcGkvdjEvYXV0aC9sb2dpbiIsIHsKICAgICAgICB1c2VyTmFtZTogInhpYW9taW5nIiwKICAgICAgICBwYXNzd29yZDogIjExMTExMSIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLiR0b2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJHRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0SG9tZUxvZ2luKCk7CiAgICB0aGlzLmdldEhvbWVHb29kcygicG9wIik7CiAgICB0aGlzLmdlTWlsbHRIb21lR29vZHModHJ1ZSk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA,yD,CACA;;AACA,2D,CACA;;AACA;AACA,0B,CACA;;AACA;AACAA,cADA;AAEAC,MAFA,kBAEA;AACA;AACAC,iBADA;AAEAC,gBAFA;AAGAC,mBAHA;AAIAC,qBAJA;AAKAC,gCALA;AAMAC;AACAC;AAAAC;AAAAC;AAAA;AADA,OANA;AASAC,oBATA;AAUAC,qBAVA;AAYAC,eACA,SADA,EAEA,SAFA,EAGA,SAHA,EAIA,SAJA,EAKA,SALA,EAMA,SANA,EAOA,SAPA,CAZA;AAqBAC;AArBA;AAuBA,GA1BA;AA4BAC;AACAC,kBADA;AAEAC,0BAFA;AAGAC;AAHA,GA5BA;AAkCAC;AACA;AACAC,cAFA,sBAEAC,GAFA,EAEA;AACAC;AACA,KAJA;AAMA;AACAC,YAPA,oBAOAC,KAPA,EAOA;AACA;AACA,KATA;AAWAC,YAXA,oBAWAD,KAXA,EAWA;AACA;AACAE,qBADA;AAEAC;AAAAC;AAAA;AAFA;AAIA,KAhBA;AAkBA;AACAC,gBAnBA,wBAmBAC,IAnBA,EAmBA;AAAA;;AACA;AACA;AACAC;AACAC,mBADA;AAEAvB;AAFA;AADA,SAMAwB,IANA,CAMA;AACA;;AACA;AACAC;AACA,SAFA,EAFA,CAMA;;;AACA;;AACA;AACAA;AACA,SAFA;AAGA,OAjBA,EAkBAC,KAlBA,CAkBA;AACAb;AACA,OApBA;AAqBA,KA1CA;AA4CA;AACAc,oBA7CA,4BA6CAN,IA7CA,EA6CA;AAAA;;AACA;AACA;AACAC;AACAtB,oBADA;AAEAuB;AAFA,SADA;AAKAK;AALA,SAOAJ,IAPA,CAOA;AACA;;AACA;AACAK;AACA,SAFA,MAEA;AACAA;AACA,SANA,CAQA;;;AACA,iFACAA,GADA;;AAIA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AACA;AACA,OA1BA,EA2BAH,KA3BA,CA2BA;AACAb;AACA,OA7BA;AA8BA,KA7EA;AA+EA;AACAiB,gBAhFA,0BAgFA;AAAA;;AACA;AACAC,4BADA;AAEAC;AAFA,SAIAR,IAJA,CAIA;AACA;AACAS,8BADA;AAEAC;AAFA;AAIA,OATA,EAUAR,KAVA,CAUA;AACA;AACAO,sBADA;AAEAC;AAFA;AAIA,OAfA;AAgBA;AAjGA,GAlCA;AAsIAC,SAtIA,qBAsIA;AACA;AACA;AACA;AACA;AA1IA","names":["name","data","title","banner","recommend","popularWeek","titles","goods","pop","page","list","loading","finished","colour","itemColour","components","NavBer","TabControl","GoodsList","methods","switchType","val","console","getIndex","index","onChange","path","query","bannerIndex","getHomeGoods","type","params","per","then","a","catch","geMilltHomeGoods","headers","arr","getHomeLogin","userName","password","message","duration","created"],"sourceRoot":"src/views/Home","sources":["home.vue"],"sourcesContent":["<template>\n  <div id=\"home\">\n    <NavBer class=\"nome_nav\" :itemColour=\"itemColour\">\n      <div slot=\"center\">购物街</div>\n    </NavBer>\n\n    <!-- TODO: 轮播图 -->\n    <van-swipe\n      class=\"my-swipe\"\n      @change=\"getIndex\"\n      :autoplay=\"3000\"\n      indicator-color=\"white\"\n    >\n      <van-swipe-item\n        v-for=\"(item, index) in goods['pop'].list\"\n        :key=\"index\"\n        @click=\"onChange(index)\"\n      >\n        <img class=\"imgBanner\" :src=\"item.coverImg\" alt=\"\" srcset=\"\"\n      /></van-swipe-item>\n    </van-swipe>\n\n    <!-- 推荐信息 -->\n    <div class=\"recommend\">\n      <div class=\"recommendBox\" v-for=\"item in recommend\" :key=\"item.index\">\n        <a :href=\"item.link\">\n          <img :src=\"item.coverImg\" alt=\"\" />\n          <p>{{ item.text }}</p>\n        </a>\n      </div>\n    </div>\n\n    <!-- 分隔条 -->\n    <div class=\"splitBar\"></div>\n\n    <!-- 本周流行 -->\n    <div class=\"popularWeek\">\n      <div class=\"thisWeek\">本周流行</div>\n      <div class=\"popularWeek_title\">\n        <div\n          class=\"popularWeekBox\"\n          v-for=\"item in popularWeek\"\n          :key=\"item.index\"\n        >\n          <a :href=\"item.link\">\n            <img :src=\"item.coverImg\" alt=\"\" />\n            <p>{{ item.text }}</p>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <!-- 首页二级导航 -->\n    <TabControl\n      class=\"tabControl\"\n      :titles=\"titles\"\n      @switchType=\"switchType\"\n    ></TabControl>\n\n    <!-- 首页商品列表 上拉加载 -->\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"geMilltHomeGoods('pop')\"\n    >\n      <GoodsList :goods=\"goods.pop.list\"></GoodsList>\n    </van-list>\n  </div>\n</template>\n\n<script>\n// TODO: 头部 navber\nimport NavBer from \"components/common/navbar/NavBar.vue\";\n// TODO: 首页二级导航\nimport TabControl from \"components/content/tabControl.vue\";\n// TODO: 首页商品列表\nimport GoodsList from \"components/content/goodsList.vue\";\nimport axios from \"axios\";\n// import { get } from \"../../utils/request.js\";\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      title: \"首页\",\n      banner: [],\n      recommend: [],\n      popularWeek: [],\n      titles: [\"流行\", \"新款\", \"精选\"],\n      goods: {\n        pop: { page: 0, list: [] },\n      },\n      loading: false,\n      finished: false,\n\n      colour: [\n        \"#f44336\",\n        \"#e91e63\",\n        \"#9c27b0\",\n        \"#673ab7\",\n        \"#3f51b5\",\n        \"#2196f3\",\n        \"#009688\",\n      ],\n      itemColour: \"\",\n    };\n  },\n\n  components: {\n    NavBer,\n    TabControl,\n    GoodsList,\n  },\n\n  methods: {\n    // TODO: 子组件传递过来的数据\n    switchType(val) {\n      console.log(val);\n    },\n\n    // 轮播图对应的颜色值\n    getIndex(index) {\n      this.itemColour = this.colour[index];\n    },\n\n    onChange(index) {\n      this.$router.push({\n        path: \"/Live\",\n        query: { bannerIndex: index },\n      });\n    },\n\n    // TODO: 本周流行\n    getHomeGoods(type) {\n      let page = this.goods[type].page + 1;\n      this.$commonGet(\"/api/v1/products\", {\n        params: {\n          per: \"10\",\n          page: page,\n        },\n      })\n        .then((res) => {\n          this.popularWeek = res.products.slice(0, 4);\n          this.popularWeek.map((a) => {\n            a.text = \"妖孽法师\";\n          });\n\n          // TODO: 金刚区\n          this.recommend = res.products.slice(0, 4);\n          this.recommend.map((a) => {\n            a.text = \"符文法师\";\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    // TODO: 下面列表\n    geMilltHomeGoods(type) {\n      const page = this.goods[\"pop\"].page + 1;\n      this.$commonGet(\"/api/v1/products\", {\n        params: {\n          page: page,\n          per: 0,\n        },\n        headers: {},\n      })\n        .then((res) => {\n          let arr = [];\n          if (res.products.length > 0) {\n            arr = res.products;\n          } else {\n            arr.push(res.products);\n          }\n\n          // TODO: 向数组追加 数据并合并\n          this.goods[\"pop\"].list = (type ? [] : this.goods[\"pop\"].list).concat(\n            arr\n          );\n\n          if (this.goods.pop.list.length < 10) {\n            this.finished = true;\n          } else {\n            this.finished = false;\n          }\n          this.loading = false;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    // TODO: 登录接口\n    getHomeLogin() {\n      this.$commonPost(\"/api/v1/auth/login\", {\n        userName: \"xiaoming\",\n        password: \"111111\",\n      })\n        .then((res) => {\n          this.$toast({\n            message: res.message,\n            duration: 2000,\n          });\n        })\n        .catch((err) => {\n          this.$toast({\n            message: err,\n            duration: 2000,\n          });\n        });\n    },\n  },\n\n  created() {\n    this.getHomeLogin();\n    this.getHomeGoods(\"pop\");\n    this.geMilltHomeGoods(true);\n  },\n};\n</script>\n<style scoped lang=\"less\">\n#home {\n  padding-top: 0.88rem;\n  padding-bottom: 1rem;\n}\n/* 设置 navber 在当前组件的展现样式 */\n.nome_nav {\n  width: 100%;\n  background-color: rgb(12, 189, 130);\n  color: #fff;\n  font-weight: 600;\n  font-size: 0.34rem;\n  position: fixed;\n  z-index: 999;\n  top: 0;\n}\n\n.my-swipe .van-swipe-item {\n  /* color: #fff;  */\n  width: 100%;\n  font-size: 0.2rem;\n  line-height: 3rem;\n  text-align: center;\n  /* background-color: #39a9ed; */\n}\n.imgBanner {\n  width: 100%;\n  height: 3rem;\n}\n\n/* 推荐 */\n.recommend {\n  width: 100%;\n  display: flex;\n  margin-top: 0.2rem;\n  margin-bottom: 0.2rem;\n  .thisWeek {\n    width: 100%;\n    height: 2.4rem;\n    text-align: center;\n  }\n  .recommend_title {\n  }\n  .recommendBox {\n    width: 100%;\n    a {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      img {\n        width: 0.8rem;\n        height: 0.8rem;\n      }\n      p {\n        font-size: 0.14rem;\n        margin-top: 0.1rem;\n      }\n    }\n  }\n}\n// 分隔条\n.splitBar {\n  width: 100%;\n  height: 0.2rem;\n  background-color: rgb(241, 241, 241);\n}\n\n/* 本周流行 */\n.popularWeek {\n  width: 100%;\n  margin-bottom: 0.2rem;\n  .thisWeek {\n    height: 0.88rem;\n    text-align: center;\n    line-height: 0.88rem;\n  }\n  .popularWeek_title {\n    display: flex;\n    .popularWeekBox {\n      width: 100%;\n      a {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        img {\n          width: 1.6rem;\n          height: 1.6rem;\n        }\n        p {\n          font-size: 0.14rem;\n          margin-top: 0.1rem;\n        }\n      }\n    }\n  }\n}\n\n// 首页二级导航 自动吸顶\n.tabControl {\n  position: sticky;\n  top: 0.88rem;\n}\n</style>"]}]}