{"remainingRequest":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vue8天/mall/supermall/src/network/request.js","dependencies":[{"path":"/Users/apple/Desktop/vue8天/mall/supermall/src/network/request.js","mtime":1648115522990},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/babel.config.js","mtime":1647847872553},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vue8天/mall/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIC8vIDEuVE9ETzog5Yib5bu6IGF4aW9zIOWunuS+iwogICAgdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgLy8gYmFzZVVSTDogJ2h0dHA6Ly8xMjMuMjA3LjMyLjMyOjgwMDAnLAogICAgICBiYXNlVVJMOiAnaHR0cDovL2FwaS5jYXQtc2hvcC5wZW5rdW9lci5jb20nLAogICAgICAvLyBiYXNlVVJMOiAnaHR0cDovL2FwaS5jYXQtc2hvcC5wZW5rdW9lci5jb20nLHMKICAgICAgdGltZW91dDogNTAwMCAvLyBob3N0OiAnbG9jYWxob3N0JywKICAgICAgLy8gZGV2dG9vbDogJ2NoZWFwLW1vZHVsZS1ldmFsLXNvdXJjZS1tYXAnLAoKICAgIH0pOyAvLyAy44CBVE9ETzogYXhpb3Mg6K+35rGC5oum5oiqCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgLy8gY29uZmlnID0+IHsKICAgICAgLy8gY29uZmlnLmRhdGEgPSBKU09OLnN0cmluZ2lmeShjb25maWcuZGF0YSk7CiAgICAgIC8vIGNvbmZpZy5oZWFkZXJzID0gewogICAgICAvLyAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gY29uZmlnOwogICAgICAvLyB9CiAgICAgIHJldHVybiBjb25maWc7CiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9KTsgLy8gVE9ETzogYXhpb3Mg5ZON5bqU5oum5oiqCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSwKICAgICAgICAgIGNvZGUgPSBfcmVzJGRhdGEuY29kZSwKICAgICAgICAgIGRhdGEgPSBfcmVzJGRhdGEuZGF0YSwKICAgICAgICAgIG1zZyA9IF9yZXMkZGF0YS5tc2c7CgogICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDQwNCkgewogICAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIuWksei0peS/oeaBrzEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIuWksei0peS/oeaBrzIiKTsKICAgICAgfQogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7IC8vIDPjgIFUT0RPOiDnvZHnu5zor7fmsYIKCiAgICBpbnN0YW5jZShjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXNvbHZlKHJlcyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn0="},{"version":3,"sources":["/Users/apple/Desktop/vue8天/mall/supermall/src/network/request.js"],"names":["axios","router","request","config","Promise","resolve","reject","instance","create","baseURL","timeout","interceptors","use","err","console","log","response","res","data","code","msg","status","push","then","catch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,SAASC,OAAT,CAAiBC,MAAjB,EAAyB;AAC5B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC;AACA,QAAMC,QAAQ,GAAGP,KAAK,CAACQ,MAAN,CAAa;AAC1B;AACAC,MAAAA,OAAO,EAAE,kCAFiB;AAG1B;AACAC,MAAAA,OAAO,EAAE,IAJiB,CAK1B;AACA;;AAN0B,KAAb,CAAjB,CAFoC,CAWpC;;AACAH,IAAAA,QAAQ,CAACI,YAAT,CAAsBT,OAAtB,CAA8BU,GAA9B,CAAkC,UAAAT,MAAM,EAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAOA,MAAP;AACH,KATD,EASG,UAAAU,GAAG,EAAI;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAXD,EAZoC,CAyBpC;;AACAN,IAAAA,QAAQ,CAACI,YAAT,CAAsBK,QAAtB,CAA+BJ,GAA/B,CAAmC,UAAAK,GAAG,EAAI;AACtC,sBAA4BA,GAAG,CAACC,IAAhC;AAAA,UAAQC,IAAR,aAAQA,IAAR;AAAA,UAAcD,IAAd,aAAcA,IAAd;AAAA,UAAoBE,GAApB,aAAoBA,GAApB;;AACA,UAAIH,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACpB,eAAOJ,GAAG,CAACC,IAAX;AACH,OAFD,MAEO,IAAIC,IAAI,KAAK,GAAb,EAAkB;AACrBlB,QAAAA,MAAM,CAACqB,IAAP,CAAY,QAAZ;AACA,eAAOlB,OAAO,CAACE,MAAR,CAAe,OAAf,CAAP;AACH,OAHM,MAGA;AACH,eAAOF,OAAO,CAACE,MAAR,CAAe,OAAf,CAAP;AACH;AACJ,KAVD,EAUG,UAAAO,GAAG,EAAI;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAZD,EA1BoC,CAwCpC;;AACAN,IAAAA,QAAQ,CAACJ,MAAD,CAAR,CAAiBoB,IAAjB,CAAsB,UAAAN,GAAG,EAAI;AACrBZ,MAAAA,OAAO,CAACY,GAAD,CAAP;AACH,KAFL,EAGKO,KAHL,CAGW,UAAAX,GAAG,EAAI;AACVP,MAAAA,MAAM,CAACO,GAAD,CAAN;AACH,KALL;AAMH,GA/CM,CAAP;AAgDH","sourcesContent":["import axios from 'axios'\nimport router from '../router';\nexport function request(config) {\n    return new Promise((resolve, reject) => {\n        // 1.TODO: 创建 axios 实例\n        const instance = axios.create({\n            // baseURL: 'http://123.207.32.32:8000',\n            baseURL: 'http://api.cat-shop.penkuoer.com',\n            // baseURL: 'http://api.cat-shop.penkuoer.com',s\n            timeout: 5000,\n            // host: 'localhost',\n            // devtool: 'cheap-module-eval-source-map',\n        })\n\n        // 2、TODO: axios 请求拦截\n        instance.interceptors.request.use(config => {\n            // config => {\n            // config.data = JSON.stringify(config.data);\n            // config.headers = {\n            //     'Content-Type': 'application/json',\n            // }\n            // return config;\n            // }\n            return config;\n        }, err => {\n            console.log(err);\n        })\n\n        // TODO: axios 响应拦截\n        instance.interceptors.response.use(res => {\n            const { code, data, msg } = res.data;\n            if (res.status === 200) {\n                return res.data;\n            } else if (code === 404) {\n                router.push('/login');\n                return Promise.reject(\"失败信息1\");\n            } else {\n                return Promise.reject(\"失败信息2\");\n            }\n        }, err => {\n            console.log(err);\n        })\n\n        // 3、TODO: 网络请求\n        instance(config).then(res => {\n                resolve(res);\n            })\n            .catch(err => {\n                reject(err);\n            })\n    })\n}"]}]}